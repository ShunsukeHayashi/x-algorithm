# X（Twitter）「For You」アルゴリズムの日本語解説 X投稿

## 🧵 スレッド構成（12ツイート）

---

### 1/12: フック（つかみ）
```
Xの「おすすめ」フィード、
中身どうなってるか気になりませんか？🤔

実はXが公式 GitHubで
アルゴリズムの実装を公開してます！

In-Network（フォロー）＋
Out-of-Network（おすすめ）の
最強コンボフィードの秘密、
全部覗いてみますよ👇
```

### 2/12: アーキテクチャ概要
```
まず全体像🏗️

For You Feed = 3つのレイヤー

① Home Mixer（指揮者）
② Thunder（フォロー済み担当）
③ Phoenix（MLおすすめ担当）

全ての投稿をGrokベースの
Transformerが一気にランキング。

手作りルールほぼゼロ、
AIに丸投げ設計です🤖
```

### 3/12: Thunderの役割
```
Thunder = フォロー中の投稿担当

・Kafkaで投稿イベントをリアルタイム収集
・ユーザーごとのインメモリストア保持
・サブミリ秒で検索可能

フォロワー数が多くても、
こいつが高速にさばいてくれる。

インメモリDB最強説🔥
```

### 4/12: Phoenixの検索
```
Phoenix = MLおすすめ担当

Two-Towerモデルで
「フォローしてないけど好きそう」な投稿を発掘！

User Tower: あなたの特徴を埋め込み
Candidate Tower: 全投稿を埋め込み
→ 類似度計算でマッチング

コサイン類似度で
「似てる投稿」を見つけるんですね📐
```

### 5/12: Phoenixのランキング
```
Phoenixの本領：ランキング予測

Transformerモデルが
15種類のアクション確率を予測：

✅ いいね、リプライ、リポスト
✅ クリック、プロフィール閲覧
✅ 動画視聴、画像拡大
✅ フォロー、シェア

❌ 興味なし、ミュート、ブロック

全部足し合わせて最終スコア💯
```

### 6/12: 候補Taboo「Candidate Isolation」
```
面白い設計：候補アイソレーション

ランキング時、投稿同士が
お互いを見れないようになってる。

・A投稿が「バッチにいるから」高スコア
・B投稿が「Aがいない」から高スコア

みたいな依存関係を防ぐ賢い工夫。

結果としてスコアが安定して、
キャッシュもしやすい🧠
```

### 7/12: パイプライン処理
```
Home Mixerのパイプライン：

1. Query Hydration → ユーザー情報取得
2. Sources → Thunder + Phoenixから候補取得
3. Hydration → 投稿メタデータ補完
4. Filters → 重複・古い・NG除外
5. Scorers → ML予測 × 重み付け
6. Selector → Top-K選択
7. Final Filter → 最終チェック

各ステージ並列実行可能🚀
```

### 8/12: フィルターの種類
```
プレフィルターでガチガチに除外：

✓ 重複排除
✓ 古い投稿（期間切れ）
✓ 自分の投稿
✓ ブロック/ミュート中
✓ ミュートキーワード含む
✓ 既見/既配信済み
✓ 読めないサブスク投稿

品質担保のための
防衛策が整ってますね🛡️
```

### 9/12: 著名多様性スコア
```
「同じ投稿者ばっかり」問題への対策：

Author Diversity Scorerが、
連続する同一作者のスコアを
徐々に減衰させていく。

バラエティ担保 ＝
長時間の滞在 ＝
広告在り🎯

UXと収益のバランス、
考えてるなぁ📊
```

### 10/12: 技術的ハイライト
```
エンジニア目視点の魅力：

・Apache 2.0ライセンス（商用利用可）
・Rust実装（パフォーマンス重視）
・gRPC API
・Grok-1 Transformer移植
・Composable Pipeline設計

おすすめシステム開発の
参考実装として超勉強になります📚
```

### 11/12: 学び取りポイント
```
個人的に刺さった設計：

1. 手作り特徴量を廃止した勇気
2. 候補アイソレーションで一貫性担保
3. In-Network × Out-of-Network統合
4. パイプラインのComposable設計

「全部AIにやらせる」のではなく、
AIに適切な仕事を任せてる感じが
良いバランス🎯
```

### 12/12: CTA
```
技術スタックや設計思想、
かなり勉強になります👇

リポジトリ：
xai-org/grok-1
X's For You Feed Algorithm

コード読むの楽しいですよね✨

#AI #機械学習 #レコメンデーション #X
#アルゴリズム #エンジニアリング #OSS
```

---

## 📝 単発投稿用（要約版）

### 投稿案A: 技術者向け
```
Xの「For You」アルゴリズム、
公式 GitHubで実装公開されてますよ🤔

要点まとめると：

✅ Thunder（フォロー投稿）× Phoenix（MLおすすめ）
✅ Grokベース Transformerが15種類のアクション予測
✅ 手作り特徴量ほぼゼロ設計
✅ Rust実装でサブミリ秒処理

特に「Candidate Isolation」
（候補同士が見れない設計）が
賢いな工夫だと思いました🧠

おすすめシステムの設計参考として
超勉強になります👇

github.com/xai-org/grok

#AI #レコメンデーション #機械学習 #X #アルゴリズム
```

### 投稿案B: 一般層向け
```
「おすすめ」に出る投稿の選ばれ方、
気になったことありませんか？🤔

Xが公開しているアルゴリズムを見ると、
フォロー中＋フォロー外の
最強コンボで決まってます！

・フォロー中の最新投稿（Thunder）
・似てる趣味のユーザーが見てる投稿（Phoenix）
・15種類の反応（いいね/リプ等）を予測

手作りルールはほぼなく、
AIが全判断してるんだとか〜🤖

技術者にとっては
たまらない設計ですよ✨

#X #アルゴリズム #おすすめ #AI #エンジニアリング
```

### 投稿案C: インパクト型
```
おすすめアルゴリズム、
コード全部公開するって
狂ってるのかX😎

・Grok Transformerで15種類のアクション予測
・サブミリ秒でフォロワー投稿検索
・フォロー外の投稿もMLで発掘
・全てRust実装

ハイテク企業の秘伝の具を
丸見せする時代ですよ🔓

レコメンデーションエンジニア
絶対読むべき👇

github.com/xai-org/grok

#AI #OSS #レコメンデーション #X #機械学習 #技術
```

---

## 🎯 ハッシュタグ戦略

### メイン
```
#AI #機械学習 #レコメンデーション #X #アルゴリズム
```

### サブ（技術層）
```
#エンジニアリング #Rust #Transformer #Grok #OSS #Tech
```

### サブ（ビジネス層）
```
#プロダクト #UX #おすすめ #フィード #SNS #マーケティング
```

---

## 📊 投稿データ

| 項目 | 推奨値 |
|------|---------|
| 投稿時間 | 平日 12:00-13:00 / 19:00-21:00 |
| 曜日 | 火・水（エンゲージメント率高い） |
| 画像 | アーキテクチャ図またはGitHubキャプチャ |
| ハッシュタグ | 3〜5個 |

---

## 💡 エンゲージメント向上テクニック

### 投稿直後の対応
1. **質問を投げる** - 「使ったことあります？」「どう思います？」
2. **技術的深掘り** - リプライで補足情報提供
3. **関連リンク** - 参考論文や関連OSSを紹介

### 追伸投稿（2-3時間後）
```
【反響ありがとうございます！】

個人的に一番興味深いのは
「Candidate Isolation」の設計です。

投稿同士が見れないことで、
スコアが安定してキャッシュ効率も向上。

「独立性」と「一貫性」を両立させる
設計思想が参考になりますよ✨

詳しくはここから👇
[GitHubリンク]
```

---

## 🖼️ 画像案

### サムネイルテキスト
```
X「For You」アルゴリズム
全部公開してる件😎

Thunder × Phoenix × Grok
おすすめの秘密、徹底解剖👇
```

### アーキテクチャ図キャプション
```
公開実装から読み解く
「おすすめ」フィードの仕組み

・フォロー投稿（Thunder）
・おすすめ投稿（Phoenix）
・Transformerランキング

全てRustでサブミリ秒処理！
```

---

**作成日**: 2026-01-22
**リポジトリ**: github.com/xai-org/grok
**対象**: X For You Feed Algorithm
